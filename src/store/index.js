import Vue from "vue";
import Vuex from "vuex";

Vue.use(Vuex);

export default new Vuex.Store({
  state: {
    cats: [
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7nqqxg23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "13",
        breed: "Перс",
        color: "Чёрный",
        comment: "qw",
        gender: "М",
        id: "cv7nq14ggk3",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Барсик"
      },
      {
        age: "14",
        breed: "Шотландец",
        color: "Рыжий",
        comment: "qw",
        gender: "М",
        id: "cv7nq22f4k3",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Степа"
      },
      {
        age: "15",
        breed: "Абсинская",
        color: "Персиковый",
        comment: "qw",
        gender: "Ж",
        id: "cv4nq2gdxgk3",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Даша"
      },
      {
        age: "16",
        breed: "котик",
        color: "Белый",
        comment: "qw",
        gender: "Ж",
        id: "cv4n5g12gk3",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Карина"
      },
      {
        age: "17",
        breed: "Шмель",
        color: "Чёрный",
        comment: "qwww",
        gender: "Ж",
        id: "cv4114g2gk3",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дудя"
      }, 
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7nqag22f3",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7n2wrqzg23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7n1eqxa23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7nqhklaf23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7nejklee23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cvrrrxhjgkg23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7nsmjf23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7nabmvsg23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7nhcvbhg23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7ntzztg23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7nvnbeee23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cvrrrxwerg23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7nasdsf23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7nacvxbsg23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7nhdfghhg23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7ntdhtg23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7nsdeee23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cvrrrxqqg23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7nsf123412423",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7n3456sg23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7nh111111hg23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7ntt1234g23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7nee6675e23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cvrrr567xg23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7ns45f23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7na34sg23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7nhh444g23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7nt333tg23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv722neee23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cvrrrxg111123",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7ns111f23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7nas0g23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7nhh90g23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7ntt89g23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7nee78e23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cvrrrx67g23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7nsf5623",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7nas45g23",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7nhhg4323",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7nttg1223",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7ntt1g1223",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7nt3tg1223",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7nttg15223",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7nttg1e223",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
      
      {
        age: "12",
        breed: "Британская",
        color: "Белый",
        comment: "qw",
        gender: "М",
        id: "cv7nt6tg1223",
        image: "http://localhost:8080/assets/default_cat.jpg",
        name: "Дуся"
      },
    ]
  },
  getters: {
    GET_ITEM: state => {
      return state.cats;
    },
    GET_ITEM_BY_ID: state => id => {
      return state.cats.find(item => item.id === id)
    },
    GET_FILTRED_ITEMS: state => filters => {
      const filtersKeys = Object.keys(filters)
      let filtred = state.cats.filter((item) => {
        let counter = 0
        for (const key of filtersKeys) {
          const catProperty = item[key] === null ? '' : item[key].toString().toLowerCase()
          const filterProperty = filters[key].toString().toLowerCase()
          if (catProperty.includes(filterProperty)) counter++
        }
        if (counter === filtersKeys.length) return true
      });
      return filtred
    }
  },
  mutations: {
    CREATE_ITEM: (state, payload) => state.cats.push(payload),
    DELETE_ITEM: (state, payload) => {
      const deleteIndex = state.cats.findIndex(item => item.id === payload)
      state.cats.splice(deleteIndex, 1)
    },
    UPDATE_ITEM: (state, payload) => {
      state.cats.map((item, index) => {
        if (item.id === payload.id) {
          state.cats[index] = payload
        }
      })
    }
  },
  actions: {
    CREATE_ITEM: (context, payload) => {
      payload.id = Math.random()
        .toString(36)
        .substr(2, 9);
      context.commit("CREATE_ITEM", payload);
    },
    DELETE_ITEM: (context, payload) => {
      context.commit("DELETE_ITEM", payload);
    },
    UPDATE_ITEM: (context, payload) => {
      context.commit("UPDATE_ITEM", payload);
    }
  },
  modules: {}
});
